create new folder (vjvlog-backend)

npm init


changed only this--->>

entry point: (index.js) server.js





Express is a nodejs framework




npm i



npm i express



npm i cors    (due to cors policy can't send data between two origins. Using this we can get control of that)





create 3 files(app.js,controller.js,server.js)




in  (app.js)


const express = require('express');
const app = express();
const cors = require('cors');

app.use(cors()); //middleware to use when request and responces

app.use( //middleware that decrypt data that sent from html pages(send data as decrypted)
    express.urlencoded({
        extended:true,
    })
)

app.use(express.json()); //middleware to request/response data by json format

module.exports=app;






in(server.js)



const app=require('./app');

const port =3001;
const host ='127.0.0.1'; // 'http://localhost' also correct

const server= app.listen(port,host,()=>{     
    console.log(`node server listning to ${server.address().port}`)  //use backtick to run code inside the string
}
);  







TO RUN NODE SERVER

npm i nodemon -g    (install global to use in any project)



nodemon server.js







create rest APIs





in(controller.js)


const users=[
    {
        id:1,
        name:'viraj'
    },
    {
        id:2,
        name:'vikum'
    }
];

const getUsers= (cb) => {       //callback function
    cb(users);
};

const getUserById=  (id,cb)=>{
    const user = users.find(user => user.id==id);
    cb(user); 
};

exports.getUsers=getUsers;
exports.getUserById=getUserById;







in(app.js)



const express = require('express');
const app = express();
const cors = require('cors');
const controller= require('./controller')

app.use(cors()); //middleware to use when request and responces

app.use( //middleware that decrypt data that sent from html pages(send data as decrypted)
    express.urlencoded({
        extended:true,
    })
)

app.use(express.json()); //middleware to request/response data by json format


//rest apis

app.get('/users',(req,res)=>{
    controller.getUsers(users =>{
        res.send(users);
    });
});


app.get('/user',(req,res)=>{
    const id = req.query.id;
    controller.getUserById(id, user=>{
        res.send(user);
    });
});


module.exports=app;








run server and browse to--->

	http://127.0.0.1:3001/users
	http://127.0.0.1:3001/user?id=1      //(if have more parameters --> id=1 & name="dd")