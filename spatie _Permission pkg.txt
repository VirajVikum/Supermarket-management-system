 composer require spatie/laravel-permission







php artisan vendor:publish --provider="Spatie\Permission\PermissionServiceProvider"





php artisan config:clear






in model


use Spatie\Permission\Traits\HasRoles;

class User extends Authenticatable
{
    use HasApiTokens, HasFactory, Notifiable, HasRoles;







in home Controller (index function)

$role =Role::create(['name'=>'admin']);  //create role




//delete role

 $role = Role::where('name', 'writer')->first();

         // Check if the role exists
        if ($role) {
        // Delete the role
        $role->delete();
        echo "Role deleted successfully.";






$permission = Permission::create(['name' => 'edit details']); //create permission










assign permission to a role



$role = Role::where('name', 'admin')->first();
        $permission = Permission::where('name', 'edit details')->first();
        $role->givePermissionTo($permission);
        $permission->assignRole($role);






remove permission



$role->revokePermissionTo($permission);
$permission->removeRole($role);